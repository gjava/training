{"version":3,"sources":["js/main.js"],"names":["form","document","querySelector","input","msg","list","apiKey","t","addEventListener","e","preventDefault","listItemsArray","length","reset","focus","console","log","inputVal","value","url","fetch","then","response","json","data","main","name","sys","weather","icon","li","createElement","classList","add","markup","country","Math","round","temp","humidity","innerHTML","appendChild","catch","textContent"],"mappings":";AACA,IAAMA,EAAOC,SAASC,cAAc,oBAC9BC,EAAQF,SAASC,cAAc,qBAC/BE,EAAMH,SAASC,cAAc,oBAC7BG,EAAOJ,SAASC,cAAc,yBAG9BI,EAAS,mCA+Cf,SAASC,IACPP,EAAKQ,iBAAiB,QAAS,SAAAC,GAE7BA,EAAEC,iBAWEC,eAAeC,OAAS,IAC1BZ,EAAKa,QACLV,EAAMW,QACNC,QAAQC,IAAI,kBA9DlBhB,EAAKQ,iBAAiB,SAAU,SAAAC,GAC9BA,EAAEC,iBAEIO,IAAAA,EAAWd,EAAMe,MAGjBC,EAA2DF,qDAAAA,OAAAA,EAAkBX,WAAAA,OAAAA,EAAnF,iBAEAc,MAAMD,GACHE,KAAK,SAAAC,GAAYA,OAAAA,EAASC,SAC1BF,KAAK,SAAAG,GACIC,IAAAA,EAA6BD,EAA7BC,KAAMC,EAAuBF,EAAvBE,KAAMC,EAAiBH,EAAjBG,IAAKC,EAAYJ,EAAZI,QACnBC,EACJD,qCAAAA,OAAAA,EAAQ,GAAR,KADF,WAIME,EAAK7B,SAAS8B,cAAc,MAClCD,EAAGE,UAAUC,IAAI,QACXC,IAAAA,EAC+BR,8CAAAA,OAAAA,EAAQC,KAAAA,OAAAA,EAAIQ,QACrCT,wBAAAA,OAAAA,EACDC,4BAAAA,OAAAA,EAAIQ,QAEYC,0DAAAA,OAAAA,KAAKC,MAAMZ,EAAKa,MACtBb,kDAAAA,OAAAA,EAAKc,SAEOV,mEAAAA,OAAAA,EAAYD,SAAAA,OAAAA,EAAQ,GAAR,KAC3BA,6BAAAA,OAAAA,EAAQ,GAAR,YATlB,4CAYAE,EAAGU,UAAYN,EACf7B,EAAKoC,YAAYX,KAElBY,MAAM,WACLtC,EAAIuC,YAAc,sCAGtBvC,EAAIuC,YAAc,GAClB3C,EAAKa,QACLV,EAAMW","file":"main.cbdfcb61.js","sourceRoot":"..","sourcesContent":["/*SEARCH BY USING A CITY NAME (e.g. athens) OR A COMMA-SEPARATED CITY NAME ALONG WITH THE COUNTRY CODE (e.g. athens,gr)*/\r\nconst form = document.querySelector(\".top-banner form\");\r\nconst input = document.querySelector(\".top-banner input\");\r\nconst msg = document.querySelector(\".top-banner .msg\");\r\nconst list = document.querySelector(\".ajax-section .cities\");\r\n/*THE KEY FOR WEATHER API\r\n*/\r\nconst apiKey = \"4d8fb5b93d4af21d66a2948710284366\";\r\n\r\nform.addEventListener(\"submit\", e => {\r\n  e.preventDefault();\r\n  //const listItems = list.querySelectorAll(\".ajax-section .city\");\r\n  const inputVal = input.value;\r\n\r\n  //Jquery request\r\n  const url = `https://api.openweathermap.org/data/2.5/weather?q=${inputVal}&appid=${apiKey}&units=metric`;\r\n\r\n  fetch(url)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      const { main, name, sys, weather } = data;\r\n      const icon = `https://openweathermap.org/img/wn/${\r\n        weather[0][\"icon\"]\r\n      }@2x.png`;\r\n\r\n      const li = document.createElement(\"li\");\r\n      li.classList.add(\"city\");\r\n      const markup = `\r\n        <h2 class=\"city-name\" data-name=\"${name},${sys.country}\">\r\n          <span>${name}</span>\r\n          <sup>${sys.country}</sup>\r\n        </h2>\r\n        <div class=\"city-temp\">${Math.round(main.temp)}<sup>Â°C</sup></div>\r\n          <span>Humidity ${main.humidity}<span>\r\n        <figure>\r\n          <img class=\"city-icon\" src=${icon} alt=${weather[0][\"main\"]}>\r\n          <figcaption>${weather[0][\"description\"]}</figcaption>\r\n        </figure>\r\n      `;\r\n      li.innerHTML = markup;\r\n      list.appendChild(li);\r\n    })\r\n    .catch(() => {\r\n      msg.textContent = \"Please search for a valid city ðŸ˜©\";\r\n    });\r\n\r\n  msg.textContent = \"\";\r\n  form.reset();\r\n  input.focus();\r\n});\r\n\r\n/**\r\n * RESET ACTION\r\n */\r\nfunction t() {\r\n  form.addEventListener(\"reset\", e => {\r\n\r\n    e.preventDefault();\r\n    /**const listItems = list.querySelectorAll(\".ajax-section .city\");\r\n    const li = document.createElement(\"li\");\r\n        li.classList.reset(\"city\");\r\n  \r\n      })\r\n      .catch(() => {\r\n        msg.textContent = \"Please search for a valid city ðŸ˜©\";\r\n      });\r\n  \r\n    msg.textContent = \"\";*/\r\n    if (listItemsArray.length > 0) {\r\n      form.reset();\r\n      input.focus();\r\n      console.log(\"Reset done!\");\r\n    }\r\n  }\r\n  );\r\n\r\n}"]}